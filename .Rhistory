View(filenames)
nchar(filenames[1,2])
View(filenames)
nchar(filenames[7,2])
filenames[stri_length(filenames[,2])==29]
library(tidyverse)
filenames[stri_length(filenames[,2])==29]
library(stringi)
filenames[stri_length(filenames[,2])==29]
View(filenames)
filenames[stri_length(filenames$x)==29]
filenames$x
files <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/files.csv")
filenames <- files$x
filenames[stri_length(filenames$x)==29]
filenames[stri_length(filenames)==29]
library(tidyverse)
library(stringi)
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/10ms_threshold.txt")
colnames(raw) <- c("sel","duration","start","end","peak_freq","peak_amp","WAV")
files <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/files.csv")
filenames <- files$x
filenames <- filenames[stri_length(filenames)==29]
filenames <- as.data.frame(filenames[stri_length(filenames)==29])
View(filenames)
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/10ms_threshold.txt")
colnames(raw) <- c("sel","duration","start","end","peak_freq","peak_amp","WAV")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/files.csv")
file2 <- file1$x
file3 <- file2[stri_length(file2)==29]
filenames <- as.data.frame(file3)
View(filenames)
View(filenames)
file4 <- as.data.frame(file3)
filenames <- file4 %>%
separate(file3, into = c("bat-date","WAV"))
View(filenames)
View(file4)
filenames <- file4 %>%
separate(file3, into = c("bat-date","WAV"), sep = "/")
View(filenames)
d <- raw %>%
left_join(filenames, by = "WAV")
View(d)
View(d)
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat-date, WAV, 1:6)
View(raw)
filenames <- file4 %>%
separate(file3, into = c("bat.date","WAV"), sep = "/")
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_amp)
View(d)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n())
View(d2)
View(raw)
View(filenames)
View(file1)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n()) %>%
filter(!is.na(bat.date))
View(d2)
View(d2)
View(d)
x <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/GitHub/LFS/vampire_call_measures.csv")
View(x)
View(x)
y <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/GitHub/call-convergence/vocal_social_data.csv")
View(y)
View(x)
y <- x %>% filter(duration > 0.02)
y <- y %>% separate(sound.files, into = c("ds","date","bat","WAV","sel"), sep = "_")
View(y)
z <- y %>% filter(bat == "s")
View(z)
z <- y %>% filter(bat == "s") %>% filter(WAV == "T0029682.WAV")
View(z)
rm(x)
rm(y)
rm(z)
library(tidyverse)
library(stringi)
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/10ms_threshold.txt")
colnames(raw) <- c("sel","duration","start","end","peak_freq","peak_amp","WAV")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/files.csv")
file2 <- file1$x
file3 <- file2[stri_length(file2)==29]
file4 <- as.data.frame(file3)
filenames <- file4 %>%
separate(file3, into = c("bat.date","WAV"), sep = "/")
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_amp)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n()) %>%
filter(!is.na(bat.date))
View(d2)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/10ms_threshold.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt")
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/10ms_threshold.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt")
View(raw)
View(raw)
library(tidyverse)
library(stringi)
View(raw)
View(raw)
View(raw)
separate(V10, into = c("a","b","folder","WAV"), by = "\")
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/10ms_threshold.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt") %>%
separate(V10, into = c("a","b","folder","WAV"), by = "\\")
View(raw)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/10ms_threshold.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt") %>%
separate(V10, into = c("a","b","folder","WAV"))
View(raw)
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt")
View(raw)
View(raw)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/10ms_threshold.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt") %>%
separate(V10, into = c("a","b","c","bat","date","WAV","d"))
View(raw)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/10ms_threshold.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt") %>%
separate(V10, into = c("a","b","c","bat","month","day","year","WAV","d"))
View(raw)
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt")
colnames(raw) <- c("sel","duration","start","end","peak_freq","peak_amp","WAV")
View(raw)
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt") %>%
separate(V10, into = c("a","b","c","bat","month","day","year","WAV","d"))
View(raw)
View(raw)
View(raw)
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/PAIR_5ms_threshold.txt") %>%
separate(V10, into = c("a","b","c","bat","month","day","year","WAV","d")) %>%
select(V1:V4,V6,bat,month,day,year,WAV)
View(raw)
View(raw)
d <- raw %>%
group_by(bat) %>%
summarize(n=n())
View(d)
d <- raw %>%
group_by(bat,day) %>%
summarize(n=n())
View(d)
d <- raw %>%
group_by(bat) %>%
summarize(n=n())
View(d)
library(tidyverse)
library(stringi)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo/10ms_threshold.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair/PAIR_10ms_threshold.txt")
View(raw)
View(raw)
colnames(raw) <- c("sel","duration","start","end","peak_freq",
#"peak_amp",
"WAV")
View(raw)
#file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo/files.csv")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair/files.csv")
file2 <- file1$x
View(file1)
#file3 <- file2[stri_length(file2)==29]
file3 <- file2[stri_length(file2)==34]
file3
View(file1)
#file3 <- file2[stri_length(file2)==29]
file3 <- file2[stri_length(file2)==32]
file4 <- as.data.frame(file3)
filenames <- file4 %>%
separate(file3, into = c("bat.date","WAV"), sep = "/")
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_amp)
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_freq)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n()) %>%
filter(!is.na(bat.date))
View(d2)
library(tidyverse)
library(stringi)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo/10ms_threshold.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair/7ms_uptojun5.txt")
View(raw)
colnames(raw) <- c("sel","duration","start","end","peak_freq","WAV")
#file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo/files.csv")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair/files_uptoJun5.csv")
View(file1)
file2 <- file1$x
View(file1)
#file3 <- file2[stri_length(file2)==29]
file3 <- file2
file4 <- as.data.frame(file3)
filenames <- file4 %>%
separate(file3, into = c("bat.date","WAV"), sep = "/")
View(filenames)
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_freq)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n()) %>%
filter(!is.na(bat.date))
View(d2)
View(d)
View(file4)
View(file1)
library(tidyverse)
library(stringi)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo/10ms_threshold.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair/7ms_uptojun5.txt")
colnames(raw) <- c("sel","duration","start","end","peak_freq","WAV")
#file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo/files.csv")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair/files_uptoJun5_WAV.csv") %>%
select(x)
file2 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair/files_Jun5_wav.csv") %>%
select(x)
View(file2)
#file3 <- file1[stri_length(file2)==29]
file3 <- rbind(file1,file2)
filenames <- file3 %>%
separate(x, into = c("bat.date","WAV"), sep = "/")
View(filenames)
View(file3)
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_freq)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n()) %>%
filter(!is.na(bat.date))
View(d2)
library(tidyverse)
library(stringi)
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_21h/7ms.txt")
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair/7ms_uptojun5.txt")
colnames(raw) <- c("sel","duration","start","end","peak_freq","WAV")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo/files.csv")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_21h/files.csv")
file3 <- file1
filenames <- file3 %>%
separate(x, into = c("bat.date","WAV"), sep = "/")
View(file3)
View(file1)
nchar(file1$x[4])
file3 <- file1[stri_length(file1)==26]
file3 <- file1[stri_length(file1$x)==26]
View(file1)
file3$x <- file1[stri_length(file1$x)==26]
file3 <- file1$x[stri_length(file1$x)==26]
filenames <- file3 %>%
separate(x, into = c("bat.date","WAV"), sep = "/")
file3 <- as.data.frame(file1$x[stri_length(file1$x)==26])
View(file3)
file3 <- as.data.frame(file1$x[stri_length(file1$x)==29])
View(file3)
filenames <- file3 %>%
separate(x, into = c("bat.date","WAV"), sep = "/")
View(file3)
colnames(file3) <- "x"
filenames <- file3 %>%
separate(x, into = c("bat.date","WAV"), sep = "/")
View(filenames)
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_freq)
View(d)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n()) %>%
filter(!is.na(bat.date))
View(d2)
library(tidyverse)
library(stringi)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_21h/7ms.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair/7ms_uptojun5.txt")
library(tidyverse)
library(stringi)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_21h/7ms.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing/7ms_uptojun5.txt")
colnames(raw) <- c("sel","duration","start","end","peak_freq","WAV")
#file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_21h/files.csv")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing/files_uptoJun5_WAV.csv") %>%
select(x)
file2 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing/files_Jun5_wav.csv") %>%
select(x)
# file3 <- as.data.frame(file1$x[stri_length(file1$x)==29])
# colnames(file3) <- "x"
file3 <- rbind(file1,file2)
filenames <- file3 %>%
separate(x, into = c("bat.date","WAV"), sep = "/")
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_freq)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n()) %>%
filter(!is.na(bat.date))
View(d)
View(d2)
library(tidyverse)
library(stringi)
#raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_21h/7ms.txt")
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing/7ms_uptojun5.txt")
colnames(raw) <- c("sel","duration","start","end","peak_freq","WAV")
#file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_21h/files.csv")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing/files_uptoJun5_WAV.csv") %>%
select(x)
file2 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing/files_Jun5_wav.csv") %>%
select(x)
# file3 <- as.data.frame(file1$x[stri_length(file1$x)==29])
# colnames(file3) <- "x"
file3 <- rbind(file1,file2)
filenames <- file3 %>%
separate(x, into = c("bat.date","WAV"), sep = "/")
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_freq)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n()) %>%
filter(!is.na(bat.date))
View(d2)
write.csv(d2, "/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing.csv")
library(tidyverse)
library(stringi)
raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_21h/7ms.txt")
# raw <- read.table("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing/7ms_uptojun5.txt")
colnames(raw) <- c("sel","duration","start","end","peak_freq","WAV")
file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_21h/files.csv")
# file1 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing/files_uptoJun5_WAV.csv") %>%
#   select(x)
#
# file2 <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing/files_Jun5_wav.csv") %>%
#   select(x)
file3 <- as.data.frame(file1$x[stri_length(file1$x)==29])
colnames(file3) <- "x"
#file3 <- rbind(file1,file2)
filenames <- file3 %>%
separate(x, into = c("bat.date","WAV"), sep = "/")
d <- raw %>%
left_join(filenames, by = "WAV") %>%
select(bat.date, WAV, sel:peak_freq)
d2 <- d %>%
group_by(bat.date) %>%
summarize(n = n()) %>%
filter(!is.na(bat.date))
View(d2)
write.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_first_round.txt")
write.csv(d2,"/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_first_round.txt")
library(tidyverse)
sraw <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_first_round.csv")
sraw <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_first_round.txt")
praw <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing.csv")
View(praw)
View(praw)
View(praw)
View(sraw)
solo <- sraw %>%
select(bat.date,n) %>%
separate(bat.date, into = c("bat","month","day","year"))
pair <- praw %>%
select(bat.date,n) %>%
separate(bat.date, into = c("pair","bat","date"), sep = "_")
View(solo)
solo <- sraw %>%
separate(bat.date, into = c("bat","month","day","year")) %>%
select(bat, n)
pair <- praw %>%
separate(bat.date, into = c("pair","bat","date"), sep = "_") %>%
select(bat, n)
cor.test(solo,pair)
View(pair)
library(tidyverse)
praw <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing.csv")
sraw <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_first_round.txt")
pair <- praw %>%
separate(bat.date, into = c("pair","bat","date"), sep = "_") %>%
select(bat, n)
solo <- sraw %>%
separate(bat.date, into = c("bat","month","day","year")) %>%
select(bat, n) %>%
filter(bat %in% pair$bat)
View(pair)
View(solo)
library(tidyverse)
praw <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/pair_testing.csv")
sraw <- read.csv("/Users/jkvrtilek/Desktop/OSU/PhD/Recordings/solo_first_round.txt")
p2 <- praw %>%
separate(bat.date, into = c("pair","bat","date"), sep = "_") %>%
select(bat, n)
solo <- sraw %>%
separate(bat.date, into = c("bat","month","day","year")) %>%
select(bat, n) %>%
filter(bat %in% p2$bat)
pair <- p2 %>%
filter(bat %in% solo$bat)
d <- left_join(pair, solo, by = bat)
d <- left_join(pair, solo, by = "bat")
View(d)
View(d)
cor.test(d$n.x,d$n.y)
# set working directory
setwd("/Users/jkvrtilek/Desktop/OSU/PhD/GitHub/call-convergence/")
# load packages
library(tidyverse)
library(gdata)
# load kinship data
kin_raw <- read_csv("social_data/kinship-all-bats.csv") %>%
mutate(dir.dyad = paste(bat1,bat2,sep="_")) %>%
mutate(kin.r = kinship) %>%
select(dir.dyad,bat1,bat2,kin.r,5:8)
# change kinship for bats from same site (Tole) in diff seasons from 0 to NA
temp <- kin_raw %>%
filter(site1==site2) %>%
filter(season1!=season2)
kin <- kin_raw %>%
mutate(kinship = case_when(dir.dyad %in% temp$dir.dyad ~ NA,
!(dir.dyad %in% temp$dir.dyad) ~ kin.r)) %>%
select(dir.dyad, kinship, site1:season2)
# load phd data
rates15 <- read.csv("social_data/2010-2014_foodsharing/food_sharing_rates_2010-2014.csv") %>%
mutate(dir.dyad = paste(donor,receiver,sep="_")) %>%
mutate(grooming = NA) %>%
mutate(foodsharing = donation.rate) %>%
mutate(actor.sex = toupper(donor.sex)) %>%
mutate(receiver.sex = toupper(receiver.sex)) %>%
select(dir.dyad,foodsharing,grooming,actor.sex,receiver.sex)
# load and combine postdoc data
food17 <- read.csv("social_data/2016-2017_relationship_formation/vamp_dyadic_foodsharing_rates_2016-2017.csv") %>%
mutate(actor = case_when(actor == "son.of.ola" ~ "son-of-ola",
actor == "no.band" ~ "no-band",
.default = actor)) %>%
mutate(receiver = case_when(receiver == "son.of.ola" ~ "son-of-ola",
receiver == "no.band" ~ "no-band",
.default = receiver)) %>%
mutate(dir.dyad = paste(actor,receiver,sep="_")) %>%
mutate(foodsharing = donation.rate) %>%
select(dir.dyad,foodsharing)
groom17 <- read.csv("social_data/2016-2017_relationship_formation/vamp_dyadic_grooming_rates_2016-2017.csv") %>%
mutate(actor = case_when(actor == "son.of.ola" ~ "son-of-ola",
actor == "no.band" ~ "no-band",
.default = actor)) %>%
mutate(receiver = case_when(receiver == "son.of.ola" ~ "son-of-ola",
receiver == "no.band" ~ "no-band",
.default = receiver)) %>%
mutate(dir.dyad = paste(actor,receiver,sep="_")) %>%
mutate(grooming = grooming.rate) %>%
select(dir.dyad,grooming,actor.sex,receiver.sex)
rates17 <- left_join(food17,groom17,by="dir.dyad")
# load lab data
rates19 <- read.csv("social_data/2019_grooming/2019_grooming_rates.csv") %>%
mutate(grooming = grooming.rate) %>%
mutate(foodsharing = NA) %>%
select(dir.dyad,grooming,foodsharing,actor.sex,receiver.sex)
# combine rates for left_join
all_rates <- rbind(rates15,rates17,rates19)
# load DFA distances
dist <- as.matrix(read_csv("vocal-distance-lda.csv"))
rownames(dist) <- colnames(dist)
distdf <- enframe(unmatrix(dist))
colnames(distdf) <- c("dir.dyad","dist")
distdf$dir.dyad <- gsub(":","_",distdf$dir.dyad)
# remove bat w/self
distdf2 <- distdf %>%
separate(dir.dyad, into = c("bat1","bat2"), sep = "_", remove = FALSE) %>%
filter(bat1 != bat2) %>%
select(-bat1,-bat2)
# make df with all extant data
d <- left_join(kin,all_rates,by = "dir.dyad")
d2 <- left_join(d,distdf2,by = "dir.dyad") %>%
filter(!is.na(dist))
d3 <- d2 %>%
separate(dir.dyad, into = c("actor","receiver"), sep = "_", remove = FALSE)
# fill in sexes
m <- c("vampison","black-panther","falcon","hulk","bat5","jenna-bat")
f <- c("bat6","bat7","lds","scc","six")
sex <- d3 %>%
select(actor, actor.sex) %>%
distinct() %>%
mutate(sex = case_when(actor %in% m ~ "M",
actor %in% f ~ "M",
.default = actor.sex)) %>%
select(actor, sex) %>%
filter(!is.na(sex))
female <- sex %>%
filter(sex == "F")
male <- sex %>%
filter(sex == "M")
d4 <- d3 %>%
mutate(a.sex = case_when(actor %in% female$actor ~ "F",
actor %in% male$actor ~ "M",
.default = NA)) %>%
mutate(r.sex = case_when(receiver %in% female$actor ~ "F",
receiver %in% male$actor ~ "M",
.default = NA)) %>%
select(dir.dyad:receiver, a.sex, r.sex, site1:season2, kinship, grooming, foodsharing, dist)
write.csv(d4,"vocal_social_data.csv")
